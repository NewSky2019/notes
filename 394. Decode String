def decodeString(s):
    """
    :type s: str
    :rtype: str
    """

    noBracket = True
    for i in s:
        if i == "[":
            noBracket = False
            break

    if noBracket == True:

        return s
    else:

        for i in range(len(s)):
            if s[i] == "[":
                firstLeftBracket = i
                break

        i = len(s) - 1
        while i >= 0:
            if s[i] == "]":
                lastRightBracket = i
                break
            else:
                i = i - 1

        tobeSolved=s[firstLeftBracket+1:lastRightBracket]
        print("to be solved is ",tobeSolved)

        for i in range(0, firstLeftBracket):
            if s[i].isdigit() == True:
                numStart = i
                break

        times = int(s[numStart:firstLeftBracket])

        if numStart != 0:
            preString = s[:numStart]
        else:
            preString = ""

        if lastRightBracket == len(s) - 1:
            postString = ""
        else:
            postString = s[lastRightBracket + 1:]

        return preString + times * decodeString(tobeSolved) + postString


s="3[a]2[bc]"
print(decodeString(s))
